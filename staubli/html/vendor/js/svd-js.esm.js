/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/svd-js@1.1.1/build-es/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var r=function(r,f,o,a,t){if(f=void 0===f||f,o=void 0===o||o,t=1e-64/(a=a||Math.pow(2,-52)),!r)throw new TypeError("Matrix a is not defined");var i,e,h,s,M,l,n,w,q,v,b,p,d,u=r[0].length,y=r.length;if(y<u)throw new TypeError("Invalid matrix: m < n");w=0,b=0;var x=[],k=[],A=[],g="f"===f?y:u;for(i=0;i<y;i++)k[i]=new Array(g).fill(0);for(i=0;i<u;i++)A[i]=new Array(u).fill(0);var m,E=new Array(u).fill(0);for(i=0;i<y;i++)for(e=0;e<u;e++)k[i][e]=r[i][e];for(i=0;i<u;i++){for(x[i]=w,v=0,s=i+1,e=i;e<y;e++)v+=Math.pow(k[e][i],2);if(v<t)w=0;else for(q=(n=k[i][i])*(w=n<0?Math.sqrt(v):-Math.sqrt(v))-v,k[i][i]=n-w,e=s;e<u;e++){for(v=0,h=i;h<y;h++)v+=k[h][i]*k[h][e];for(n=v/q,h=i;h<y;h++)k[h][e]=k[h][e]+n*k[h][i]}for(E[i]=w,v=0,e=s;e<u;e++)v+=Math.pow(k[i][e],2);if(v<t)w=0;else{for(q=(n=k[i][i+1])*(w=n<0?Math.sqrt(v):-Math.sqrt(v))-v,k[i][i+1]=n-w,e=s;e<u;e++)x[e]=k[i][e]/q;for(e=s;e<y;e++){for(v=0,h=s;h<u;h++)v+=k[e][h]*k[i][h];for(h=s;h<u;h++)k[e][h]=k[e][h]+v*x[h]}}(p=Math.abs(E[i])+Math.abs(x[i]))>b&&(b=p)}if(o)for(i=u-1;i>=0;i--){if(0!==w){for(q=k[i][i+1]*w,e=s;e<u;e++)A[e][i]=k[i][e]/q;for(e=s;e<u;e++){for(v=0,h=s;h<u;h++)v+=k[i][h]*A[h][e];for(h=s;h<u;h++)A[h][e]=A[h][e]+v*A[h][i]}}for(e=s;e<u;e++)A[i][e]=0,A[e][i]=0;A[i][i]=1,w=x[i],s=i}if(f){if("f"===f)for(i=u;i<y;i++){for(e=u;e<y;e++)k[i][e]=0;k[i][i]=1}for(i=u-1;i>=0;i--){for(s=i+1,w=E[i],e=s;e<g;e++)k[i][e]=0;if(0!==w){for(q=k[i][i]*w,e=s;e<g;e++){for(v=0,h=s;h<y;h++)v+=k[h][i]*k[h][e];for(n=v/q,h=i;h<y;h++)k[h][e]=k[h][e]+n*k[h][i]}for(e=i;e<y;e++)k[e][i]=k[e][i]/w}else for(e=i;e<y;e++)k[e][i]=0;k[i][i]=k[i][i]+1}}for(a*=b,h=u-1;h>=0;h--)for(var T=0;T<50;T++){for(m=!1,s=h;s>=0;s--){if(Math.abs(x[s])<=a){m=!0;break}if(Math.abs(E[s-1])<=a)break}if(!m)for(l=0,v=1,M=s-1,i=s;i<h+1&&(n=v*x[i],x[i]=l*x[i],!(Math.abs(n)<=a));i++)if(w=E[i],E[i]=Math.sqrt(n*n+w*w),l=w/(q=E[i]),v=-n/q,f)for(e=0;e<y;e++)p=k[e][M],d=k[e][i],k[e][M]=p*l+d*v,k[e][i]=-p*v+d*l;if(d=E[h],s===h){if(d<0&&(E[h]=-d,o))for(e=0;e<u;e++)A[e][h]=-A[e][h];break}for(b=E[s],n=(((p=E[h-1])-d)*(p+d)+((w=x[h-1])-(q=x[h]))*(w+q))/(2*q*p),w=Math.sqrt(n*n+1),n=((b-d)*(b+d)+q*(p/(n<0?n-w:n+w)-q))/b,l=1,v=1,i=s+1;i<h+1;i++){if(w=x[i],p=E[i],q=v*w,w*=l,d=Math.sqrt(n*n+q*q),x[i-1]=d,n=b*(l=n/d)+w*(v=q/d),w=-b*v+w*l,q=p*v,p*=l,o)for(e=0;e<u;e++)b=A[e][i-1],d=A[e][i],A[e][i-1]=b*l+d*v,A[e][i]=-b*v+d*l;if(d=Math.sqrt(n*n+q*q),E[i-1]=d,n=(l=n/d)*w+(v=q/d)*p,b=-v*w+l*p,f)for(e=0;e<y;e++)p=k[e][i-1],d=k[e][i],k[e][i-1]=p*l+d*v,k[e][i]=-p*v+d*l}x[s]=0,x[h]=n,E[h]=b}for(i=0;i<u;i++)E[i]<a&&(E[i]=0);return{u:k,q:E,v:A}},f="1.1.1";export{r as SVD,f as VERSION};export default null;
//# sourceMappingURL=/sm/f16670295327762232d378471240f388dfd42ddb9e360a9221241055cf50712a.map